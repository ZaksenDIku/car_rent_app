<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ForrUdvik</title>

    <link rel="stylesheet" th:href="@{/css/forrudvikMain.css}">
</head>
<body class="datareg-page">

<div th:replace="~{fragments/header :: header}"></div>

<main class="datareg-main__layout">

    <section class="datareg-main__pane-left">
        <h1>Lageroverblik</h1>

        <div class="datareg-car-list-container">

            <div class="datareg-cars__header">
                <div class="datareg-cars-header__title">Biler</div>
            </div>

            <div class="datareg-car-list">
                <div class="datareg-car-columns">

                    <!-- AVAILABLE kolonne -->
                    <div class="datareg-car-column">
                        <h3 class="datareg-car-column__title">
                            <span class="col-title-text">Ledige</span>
                            <span class="count-badge" style="background: #1877f2"
                                  th:text="${availableCars.size()}">0</span>
                        </h3>

                        <div class="datareg-car-scrollbox">
                            <div th:each="car : ${availableCars}" class="datareg-car-card">
                                <div class="datareg-car-card__info">
                                    <div class="datareg-car-card__title"
                                         th:text="${car.brand + ' ' + car.model}"></div>

                                    <div class="datareg-car-card__meta">
                                        <span th:text="'Vogn: ' + ${car.vehicleNo}"></span>
                                        <span th:text="'Pris: ' + ${car.priceExVat} + ' kr.'"></span>
                                    </div>

                                    <div class="datareg-car-card__meta datareg-car-card__meta--muted">
                                        <span th:text="'CO₂: ' + ${car.co2GramPerKm} + ' g/km'"></span>
                                    </div>
                                </div>

                                <div class="datareg-car-card__actions">
                                    <button class="car-action-btn car-action-btn--secondary">Se</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- LEASED kolonne -->
                    <div class="datareg-car-column">
                        <h3 class="datareg-car-column__title">
                            <span class="col-title-text">Udlejet</span>
                            <span class="count-badge" style="background: #1f9d55"
                                  th:text="${leasedCars.size()}">0</span>
                        </h3>

                        <div class="datareg-car-scrollbox">
                            <div th:each="car : ${leasedCars}" class="datareg-car-card">
                                <div class="datareg-car-card__info">
                                    <div class="datareg-car-card__title"
                                         th:text="${car.brand + ' ' + car.model}"></div>

                                    <div class="datareg-car-card__meta">
                                        <span th:text="'Vogn: ' + ${car.vehicleNo}"></span>
                                        <span th:text="'Pris: ' + ${car.priceExVat} + ' kr.'"></span>
                                    </div>

                                    <div class="datareg-car-card__meta datareg-car-card__meta--muted">
                                        <span th:text="'CO₂: ' + ${car.co2GramPerKm} + ' g/km'"></span>
                                    </div>
                                </div>

                                <div class="datareg-car-card__actions">
                                    <button class="car-action-btn car-action-btn--secondary">Se</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <section class="datareg-main__pane-kpi">
        <h1>KPI</h1>

        <div class="kpi-card">
            <h2 class="kpi-title">Dashboard</h2>
            <div class="kpi-item">
                <span>Total pris på udlejede biler:</span>
                <strong th:text="${totalMonthlyPriceLeasesWithAtLeastOneMonthLeft} + ' kr./md.'">0 kr.</strong>
            </div>
        </div>
    </section>

    <section class="datareg-main__pane-right">
        <h1>Sidste dag i lejeperiode</h1>

        <div class="datareg-car-column">
            <h3 class="datareg-car-column__title">
                <span class="col-title-text"
                      th:text="'Udløb pr. dags dato (' +
                               ${#temporals.format(#temporals.createNow(), 'd. MMMM yyyy')} +
                               ')'">
                </span>

                <span class="count-badge" style="background: #f59e0b"
                      th:text="${leasesEndingToday.size()}">0</span>
            </h3>

            <div class="datareg-car-scrollbox">
                <div th:each="car : ${leasesEndingToday}" class="datareg-car-card">
                    <div class="datareg-car-card__info">
                        <div class="datareg-car-card__title"
                             th:text="${car.brand + ' ' + car.model}"></div>

                        <div class="datareg-car-card__meta">
                            <span th:text="'Vogn: ' + ${car.vehicleNo}"></span>
                            <span th:text="'LeaseID: ' + ${car.leaseId}"></span>
                        </div>

                        <div class="datareg-car-card__meta datareg-car-card__meta--muted">
                            <span th:text="'CarID: ' + ${car.carId}"></span>
                        </div>
                    </div>

                    <div class="datareg-car-card__actions">
                        <button class="car-action-btn car-action-btn--secondary">Se</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

</main>

</body>
</html>
